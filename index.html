import os
import json

# ุงุณู ุงููุฌูุฏ ุงูุฐู ูุญุชูู ุนูู ุงูุฃุณุฆูุฉ
QUESTIONS_DIR = "Questions"
# ุงุณู ููู ุงููุงุฆูุฉ ุงูุฐู ุณูุชู ุชูููุฏู
OUTPUT_FILE = "questions_list.json"

def generate_questions_list():
    # ุงูุชุฃูุฏ ูู ุฃู ุงููุฌูุฏ ููุฌูุฏ
    if not os.path.exists(QUESTIONS_DIR):
        print(f"โ ุงูุฎุทุฃ: ุงููุฌูุฏ '{QUESTIONS_DIR}' ุบูุฑ ููุฌูุฏ!")
        print("ุชุฃูุฏ ูู ุฅูุดุงุก ุงููุฌูุฏ ููุถุน ูููุงุช ุงูุฏุงุชุง ุจุฏุงุฎูู.")
        return

    json_files = []

    # ุงููุฑูุฑ ุนูู ุฌููุน ุงููููุงุช ุฏุงุฎู ุงููุฌูุฏ
    try:
        files = os.listdir(QUESTIONS_DIR)
        
        for filename in files:
            # ุงูุชุญูู ุฃู ุงูุงูุชุฏุงุฏ ูู .json ูุชุฌุงูู ุงููููุงุช ุงููุฎููุฉ
            if filename.lower().endswith('.json') and not filename.startswith('.'):
                json_files.append(filename)
                print(f"โ ุชู ุงูุนุซูุฑ ุนูู: {filename}")
        
        # ุชุฑุชูุจ ุงููููุงุช ุฃุจุฌุฏูุงู (ุงุฎุชูุงุฑู)
        json_files.sort()

        # ูุชุงุจุฉ ุงููุงุฆูุฉ ูู ููู JSON ุงูุฑุฆูุณู
        with open(OUTPUT_FILE, 'w', encoding='utf-8') as f:
            json.dump(json_files, f, ensure_ascii=False, indent=2)
            
        print("-" * 30)
        print(f"๐ ุชู ุจูุฌุงุญ! ุชู ุฅูุดุงุก '{OUTPUT_FILE}' ููุญุชูู ุนูู {len(json_files)} ููู.")

    except Exception as e:
        print(f"โ ุญุฏุซ ุฎุทุฃ ุบูุฑ ูุชููุน: {e}")

if __name__ == "__main__":
    generate_questions_list()
    # ุฅุจูุงุก ุงููุงูุฐุฉ ููุชูุญุฉ ูุฑุคูุฉ ุงููุชูุฌุฉ (ุฅุฐุง ููุช ุชุดุบูู ุจุงูุถุบุท ุงููุฒุฏูุฌ ุนูู ูููุฏูุฒ)
    input("\nุงุถุบุท Enter ููุฎุฑูุฌ...")
